---
title: 'CAN Bus'
description: 'Controller Area Network (CAN)'
---

<Tip>
By the end of this section, you will have learned how to create a virtual CAN interface on the Gemstone development board.
</Tip>

In the Gemstone operating system, a virtual CAN interface can be created, allowing data communication
without the need for any additional hardware.

* After connecting to the Gemstone operating system, install the `kernel-module-vcan-6.1.83-ti` module to create
a virtual CAN interface.

```bash
sudo apt install picocom kernel-module-vcan-6.1.83-ti
```

* Activate the installed module using the `modprobe` command.

```bash
sudo modprobe vcan
```

* Follow the commands below to create the virtual CAN interface.

```bash
sudo ip link add dev vcan0 type vcan
sudo ip link set up vcan0
```

* Create a script file named `can-test.sh` and open it.

```bash
touch can-test.sh
nano can-test.sh
```

* Copy and paste the following code into the `can-test.sh` file. Save and close the file.

```bash
#!/bin/bash

while :
do
   cansend vcan0 123 #AABBCCDDEE112233
   sleep 1
done
```

* Install the `can-utils` package to use commands such as `cansend` and `candump` for sending and 
  receiving CAN packets.

```bash
sudo apt install can-utils
```

1. Open two terminals.

2. Start listening to the CAN interface from the first terminal.

```bash
candump vcan0
```

3. Run the `can-test.sh` script from the second terminal.

```bash
./can-test.sh
```

<Frame caption="Communication over virtual CAN interface">
  <video controls className="w-full aspect-video" src="/videos/can-test.mp4"></video>
</Frame>
